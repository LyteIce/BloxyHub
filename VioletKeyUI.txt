-- VioletKey - Simple Key System Library
-- Load with: local VioletKey = loadstring(game:HttpGet("YOUR_GITHUB_RAW_LINK"))()
-- Then use VioletKey:CreateKeyWindow({ ... })

local VioletKey = {}

function VioletKey:CreateKeyWindow(options)
    options = options or {}
    
    local Title = options.Title or "Key System"
    local Description = options.Description or "Enter your key to continue."
    local GetKeyText = options.GetKeyText or "Get Key"
    local GetKeyLink = options.GetKeyLink or ""
    local CorrectKey = options.CorrectKey or "12345"
    local OnSuccess = options.OnSuccess or function()
        print("Key accepted! Load your script here.")
    end

    local Players = game:GetService("Players")
    local Player = Players.LocalPlayer
    local PlayerGui = Player:WaitForChild("PlayerGui")
    local UserInputService = game:GetService("UserInputService")

    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "VioletKeySystem"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.Parent = PlayerGui

    local Main = Instance.new("Frame")
    Main.Size = UDim2.new(0, 440, 0, 283)
    Main.Position = UDim2.new(0.5, -220, 0.5, -141.5)
    Main.BackgroundColor3 = Color3.fromRGB(22, 22, 22)
    Main.BorderSizePixel = 0
    Main.Parent = ScreenGui

    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 30)
    UICorner.Parent = Main

    local UIStroke = Instance.new("UIStroke")
    UIStroke.Color = Color3.new(1, 1, 1)
    UIStroke.Thickness = 2
    UIStroke.Parent = Main

    local TitleLabel = Instance.new("TextLabel")
    TitleLabel.Size = UDim2.new(1, 0, 0, 50)
    TitleLabel.Position = UDim2.new(0, 0, 0, -25)
    TitleLabel.BackgroundTransparency = 1
    TitleLabel.Text = Title
    TitleLabel.TextColor3 = Color3.new(1, 1, 1)
    TitleLabel.TextScaled = true
    TitleLabel.Font = Enum.Font.GothamBold
    TitleLabel.Parent = Main

    local DescLabel = Instance.new("TextLabel")
    DescLabel.Size = UDim2.new(0.9, 0, 0, 80)
    DescLabel.Position = UDim2.new(0.05, 0, 0.25, 0)
    DescLabel.BackgroundTransparency = 1
    DescLabel.Text = Description
    DescLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    DescLabel.TextScaled = true
    DescLabel.TextWrapped = true
    DescLabel.Font = Enum.Font.Gotham
    DescLabel.Parent = Main

    local KeyBox = Instance.new("TextBox")
    KeyBox.Size = UDim2.new(0.5, 0, 0, 45)
    KeyBox.Position = UDim2.new(0.25, 0, 0.45, 0)
    KeyBox.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    KeyBox.TextColor3 = Color3.new(1, 1, 1)
    KeyBox.PlaceholderText = "Enter Key Here"
    KeyBox.Text = ""
    KeyBox.TextScaled = true
    KeyBox.Font = Enum.Font.GothamBold
    KeyBox.Parent = Main

    local KeyBoxCorner = Instance.new("UICorner")
    KeyBoxCorner.CornerRadius = UDim.new(0, 12)
    KeyBoxCorner.Parent = KeyBox

    local EnterButton = Instance.new("TextButton")
    EnterButton.Size = UDim2.new(0.4, 0, 0, 50)
    EnterButton.Position = UDim2.new(0.3, 0, 0.7, 0)
    EnterButton.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
    EnterButton.BackgroundTransparency = 0.4
    EnterButton.Text = "Enter"
    EnterButton.TextColor3 = Color3.new(1, 1, 1)
    EnterButton.TextScaled = true
    EnterButton.Font = Enum.Font.GothamBold
    EnterButton.Parent = Main

    local EnterCorner = Instance.new("UICorner")
    EnterCorner.CornerRadius = UDim.new(0, 12)
    EnterCorner.Parent = EnterButton

    local GetKeyLabel = Instance.new("TextLabel")
    GetKeyLabel.Size = UDim2.new(0.5, 0, 0, 60)
    GetKeyLabel.Position = UDim2.new(0.5, -10, 0.65, 0)
    GetKeyLabel.BackgroundTransparency = 1
    GetKeyLabel.Text = GetKeyText
    GetKeyLabel.TextColor3 = Color3.new(1, 1, 1)
    GetKeyLabel.TextScaled = true
    GetKeyLabel.TextWrapped = true
    GetKeyLabel.Font = Enum.Font.Gotham
    GetKeyLabel.TextXAlignment = Enum.TextXAlignment.Left
    GetKeyLabel.Parent = Main

    if GetKeyLink ~= "" then
        GetKeyLabel.TextColor3 = Color3.fromRGB(100, 149, 237)  -- Link blue
        GetKeyLabel.MouseButton1Click:Connect(function()
            setclipboard(GetKeyLink)
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = "Key System";
                Text = "Link copied to clipboard!";
                Duration = 4
            })
        end)
    end

    -- Functionality
    local function CheckKey()
        if KeyBox.Text == CorrectKey then
            ScreenGui:Destroy()
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = Title;
                Text = "Key Accepted!";
                Duration = 5
            })
            OnSuccess()
        else
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = Title;
                Text = "Invalid Key!";
                Duration = 4
            })
        end
    end

    EnterButton.MouseButton1Click:Connect(CheckKey)

    KeyBox.FocusLost:Connect(function(enterPressed)
        if enterPressed then
            CheckKey()
        end
    end)

    -- Draggable
    local dragging = false
    local dragStart, startPos

    Main.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = Main.Position
        end
    end)

    Main.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement and dragging then
            local delta = input.Position - dragStart
            Main.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)

    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)

    return ScreenGui  -- Returns the GUI if someone wants to modify it later
end

return VioletKey
